<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body bgcolor="${initParam.theme}">
	<h1 style="text-align: center;">${initParam.appTitle}</h1><hr><br>
	<div style="text-align: center;">
		<jsp:useBean id="quli" class="com.app.beans.QuestionListBean"/>
        <jsp:setProperty name="quli" property="quiz_id" value="${param.quiz_id}"/>
        ${quli.fetchQuestions()}
        <form method="post" action="submitquiz.jsp">
            <c:forEach var="q" items="${quli.questionList}" varStatus="loop">
                <div style="margin-bottom: 20px; border-bottom: 1px solid #ccc; padding: 10px;">
                    <p><strong>Q${loop.count}: ${q.text}</strong></p>
                    <input type="radio" name="ans_${loop.index}" value="A"> ${q.a}<br>
                    <input type="radio" name="ans_${loop.index}" value="B"> ${q.b}<br>
                    <input type="radio" name="ans_${loop.index}" value="C"> ${q.c}<br>
                    <input type="radio" name="ans_${loop.index}" value="D"> ${q.d}<br>
                </div>
            </c:forEach>
            <input type="submit" value="Submit Quiz"><br><br>
        </form>
        <button><a href="quizlist.jsp">Back to Quizzes</a></button><br><br>
	</div>
</body>
</html>